<h1 class="mb-4">2.2 Updating Data (UPDATE)</h1>

<p>The <code>UPDATE</code> statement is used to modify existing records in a table.</p>

<p>Syntax:</p>
<pre><code class="language-sql line-numbers">
UPDATE table_name
SET column1 = value1,
    column2 = value2,
    ...
WHERE condition; -- VERY IMPORTANT!
</code></pre>

<p><strong>Warning:</strong> The <code>WHERE</code> clause is crucial! If you omit it, the <code>UPDATE</code> statement will modify <strong>all rows</strong> in the table.</p>

<p>The <code>WHERE</code> clause specifies which row(s) should be updated. It uses the same conditions as the <code>SELECT</code> statement's <code>WHERE</code> clause.</p>

<p>Example: Update the email address for the user named 'Bob The Builder':</p>
<pre><code class="language-sql line-numbers">
UPDATE users
SET email = 'bob.builder@construction.com'
WHERE name = 'Bob The Builder';
</code></pre>

<p>Example: Assign all users without a department (where `department_id` is NULL) to the 'Sales' department (ID 4):</p>
<pre><code class="language-sql line-numbers">
UPDATE users
SET department_id = 4
WHERE department_id IS NULL;
</code></pre>

<!-- Interactive SQL Sandbox Section -->
<div class="sql-sandbox card shadow-sm mt-4 mb-5">
    <div class="card-header bg-light py-3">
         <h3 class="card-title mb-0"><i class="bi bi-keyboard me-2"></i>Interactive Sandbox</h3>
    </div>
    <div class="card-body">
        <p class="card-text text-muted">Try changing the department name 'Human Resources' to 'People Operations'. Then run <code>SELECT * FROM departments;</code>.</p>

        <div class="mb-3">
            <label for="sql-input" class="form-label fw-bold">SQL Query:</label>
            <textarea id="sql-input" class="form-control font-monospace" rows="8">-- Update the department name
UPDATE departments
SET department_name = 'People Operations'
WHERE department_name = 'Human Resources';

-- Verify the change
SELECT * FROM departments;

-- Be careful! What would this do? (Don't run without WHERE!)
-- UPDATE users SET email = 'generic@example.com';
</textarea>
        </div>

        <!-- For dangerous SQL examples, use this format: -->
        <div class="alert alert-danger">
          <strong>DANGER!</strong> The following query would modify ALL rows in the database if run without a WHERE clause. 
          Never execute such queries on a production database!
        </div>

        <div class="d-flex align-items-center mb-3">
            <button id="run-query-btn" class="btn btn-primary me-2"><i class="bi bi-play-fill me-1"></i> Run Query</button>
            <button id="reset-db-btn" class="btn btn-outline-secondary me-3"><i class="bi bi-arrow-clockwise me-1"></i> Reset Database</button>
            <div id="query-status" class="fw-bold ms-auto">Ready</div>
        </div>

        <div>
            <label for="query-output" class="form-label fw-bold">Output:</label>
            <pre id="query-output" class="border rounded p-3 bg-light font-monospace"></pre>
        </div>
    </div>
</div>